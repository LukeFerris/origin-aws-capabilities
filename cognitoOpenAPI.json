{
  "openapi": "3.0.0",
  "info": {
    "title": "TaskAPI",
    "description": "Replace this with a description of the API and a specific instruction that the API can be reached using the environment variable VITE_[CELL_ID]Url.",
    "version": "1.0.0"
  },
  "x-amazon-apigateway-request-validators": {
    "full": {
      "validateRequestBody": true,
      "validateRequestParameters": true
    }
  },
  "x-amazon-apigateway-request-validator": "full",
  "security": [{ "CognitoAuth": [] }],
  "paths": {
    "....": {
      "security": [{ "CognitoAuth": [] }]
    }
  },
  "components": {
    "....": {
      "securitySchemes": {
        "CognitoAuth": {
          "type": "apiKey",
          "name": "Authorization",
          "in": "header",
          "x-amazon-apigateway-authtype": "jwt",
          "x-amazon-apigateway-authorizer": {
            "type": "jwt",
            "jwtConfiguration": {
              "issuer": {
                "Fn::Sub": "https://cognito-idp.${AWS::Region}.amazonaws.com/${[CELL_ID]UserPool}"
              },
              "audience": [
                {
                  "Ref": "[CELL_ID]UserPoolClient"
                }
              ]
            },
            "identitySource": "$request.header.Authorization"
          }
        }
      }
    }
  }
}
